<svg viewBox="0 0 900 550" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="bgGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#1a1a2e"/>
      <stop offset="100%" style="stop-color:#16213e"/>
    </linearGradient>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#3498db"/>
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="900" height="550" fill="url(#bgGrad)"/>
  
  <!-- Title -->
  <text x="450" y="35" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="24" font-weight="bold">Algoritmo K-Means</text>
  
  <!-- Step boxes -->
  <!-- Step 1: Initialize -->
  <rect x="30" y="70" width="200" height="200" rx="10" fill="#1e3a5f" stroke="#f39c12" stroke-width="2"/>
  <text x="130" y="95" text-anchor="middle" fill="#f39c12" font-family="Arial, sans-serif" font-size="14" font-weight="bold">1. Inicializar Centroides</text>
  <!-- Data points -->
  <circle cx="60" cy="140" r="5" fill="#888888"/>
  <circle cx="90" cy="160" r="5" fill="#888888"/>
  <circle cx="75" cy="180" r="5" fill="#888888"/>
  <circle cx="120" cy="130" r="5" fill="#888888"/>
  <circle cx="150" cy="200" r="5" fill="#888888"/>
  <circle cx="170" cy="150" r="5" fill="#888888"/>
  <circle cx="190" cy="180" r="5" fill="#888888"/>
  <circle cx="140" cy="220" r="5" fill="#888888"/>
  <!-- Random centroids -->
  <circle cx="80" cy="150" r="10" fill="#e74c3c" stroke="#ffffff" stroke-width="2"/>
  <circle cx="170" cy="190" r="10" fill="#3498db" stroke="#ffffff" stroke-width="2"/>
  <text x="130" y="255" text-anchor="middle" fill="#aaaaaa" font-family="Arial, sans-serif" font-size="11">K centroides aleatorios</text>
  
  <!-- Arrow 1-2 -->
  <line x1="235" y1="170" x2="265" y2="170" stroke="#3498db" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Step 2: Assign -->
  <rect x="270" y="70" width="200" height="200" rx="10" fill="#1e3a5f" stroke="#e74c3c" stroke-width="2"/>
  <text x="370" y="95" text-anchor="middle" fill="#e74c3c" font-family="Arial, sans-serif" font-size="14" font-weight="bold">2. Asignar Puntos</text>
  <!-- Assigned points -->
  <circle cx="300" cy="140" r="5" fill="#e74c3c"/>
  <circle cx="330" cy="160" r="5" fill="#e74c3c"/>
  <circle cx="315" cy="180" r="5" fill="#e74c3c"/>
  <circle cx="360" cy="130" r="5" fill="#e74c3c"/>
  <circle cx="390" cy="200" r="5" fill="#3498db"/>
  <circle cx="410" cy="150" r="5" fill="#3498db"/>
  <circle cx="430" cy="180" r="5" fill="#3498db"/>
  <circle cx="380" cy="220" r="5" fill="#3498db"/>
  <!-- Centroids -->
  <circle cx="320" cy="150" r="10" fill="#e74c3c" stroke="#ffffff" stroke-width="2"/>
  <circle cx="410" cy="190" r="10" fill="#3498db" stroke="#ffffff" stroke-width="2"/>
  <text x="370" y="255" text-anchor="middle" fill="#aaaaaa" font-family="Arial, sans-serif" font-size="11">Al centroide más cercano</text>
  
  <!-- Arrow 2-3 -->
  <line x1="475" y1="170" x2="505" y2="170" stroke="#3498db" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Step 3: Update -->
  <rect x="510" y="70" width="200" height="200" rx="10" fill="#1e3a5f" stroke="#2ecc71" stroke-width="2"/>
  <text x="610" y="95" text-anchor="middle" fill="#2ecc71" font-family="Arial, sans-serif" font-size="14" font-weight="bold">3. Actualizar Centroides</text>
  <!-- Same points -->
  <circle cx="540" cy="140" r="5" fill="#e74c3c"/>
  <circle cx="570" cy="160" r="5" fill="#e74c3c"/>
  <circle cx="555" cy="180" r="5" fill="#e74c3c"/>
  <circle cx="600" cy="130" r="5" fill="#e74c3c"/>
  <circle cx="630" cy="200" r="5" fill="#3498db"/>
  <circle cx="650" cy="150" r="5" fill="#3498db"/>
  <circle cx="670" cy="180" r="5" fill="#3498db"/>
  <circle cx="620" cy="220" r="5" fill="#3498db"/>
  <!-- New centroids (moved) -->
  <circle cx="565" cy="155" r="10" fill="#e74c3c" stroke="#ffffff" stroke-width="2"/>
  <circle cx="645" cy="185" r="10" fill="#3498db" stroke="#ffffff" stroke-width="2"/>
  <!-- Movement arrows -->
  <path d="M 555 165 Q 560 155 565 155" fill="none" stroke="#ffffff" stroke-width="1" stroke-dasharray="3,2"/>
  <text x="610" y="255" text-anchor="middle" fill="#aaaaaa" font-family="Arial, sans-serif" font-size="11">Media de puntos del cluster</text>
  
  <!-- Arrow 3-4 -->
  <line x1="715" y1="170" x2="745" y2="170" stroke="#3498db" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Step 4: Converge -->
  <rect x="750" y="70" width="120" height="200" rx="10" fill="#1e3a5f" stroke="#9b59b6" stroke-width="2"/>
  <text x="810" y="95" text-anchor="middle" fill="#9b59b6" font-family="Arial, sans-serif" font-size="14" font-weight="bold">4. Repetir</text>
  <text x="810" y="150" text-anchor="middle" fill="#cccccc" font-family="Arial, sans-serif" font-size="12">hasta que</text>
  <text x="810" y="175" text-anchor="middle" fill="#cccccc" font-family="Arial, sans-serif" font-size="12">centroides</text>
  <text x="810" y="200" text-anchor="middle" fill="#cccccc" font-family="Arial, sans-serif" font-size="12">no cambien</text>
  <text x="810" y="240" text-anchor="middle" fill="#2ecc71" font-family="Arial, sans-serif" font-size="14" font-weight="bold">✓ Converge</text>
  
  <!-- Objective Function -->
  <rect x="50" y="300" width="800" height="100" rx="10" fill="#2c3e50" stroke="#f39c12" stroke-width="2"/>
  <text x="450" y="330" text-anchor="middle" fill="#f39c12" font-family="Arial, sans-serif" font-size="16" font-weight="bold">Función Objetivo: Minimizar Inercia (WCSS)</text>
  <text x="450" y="365" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="18">J = Σ Σ ||x - μₖ||²</text>
  <text x="300" y="385" text-anchor="middle" fill="#aaaaaa" font-family="Arial, sans-serif" font-size="12">k  x∈Cₖ</text>
  <text x="600" y="385" text-anchor="middle" fill="#aaaaaa" font-family="Arial, sans-serif" font-size="12">Suma de distancias al cuadrado de cada punto a su centroide</text>
  
  <!-- Limitations -->
  <rect x="50" y="420" width="380" height="110" rx="10" fill="#3d1f1f" stroke="#e74c3c" stroke-width="2"/>
  <text x="240" y="450" text-anchor="middle" fill="#e74c3c" font-family="Arial, sans-serif" font-size="14" font-weight="bold">⚠️ Limitaciones</text>
  <text x="70" y="475" fill="#cccccc" font-family="Arial, sans-serif" font-size="12">• Requiere especificar K</text>
  <text x="70" y="495" fill="#cccccc" font-family="Arial, sans-serif" font-size="12">• Sensible a inicialización</text>
  <text x="70" y="515" fill="#cccccc" font-family="Arial, sans-serif" font-size="12">• Solo clusters esféricos</text>
  <text x="250" y="475" fill="#cccccc" font-family="Arial, sans-serif" font-size="12">• Sensible a outliers</text>
  <text x="250" y="495" fill="#cccccc" font-family="Arial, sans-serif" font-size="12">• Converge a mínimo local</text>
  
  <!-- Solutions -->
  <rect x="470" y="420" width="380" height="110" rx="10" fill="#1f3d1f" stroke="#2ecc71" stroke-width="2"/>
  <text x="660" y="450" text-anchor="middle" fill="#2ecc71" font-family="Arial, sans-serif" font-size="14" font-weight="bold">✅ Soluciones</text>
  <text x="490" y="475" fill="#cccccc" font-family="Arial, sans-serif" font-size="12">• K-Means++ (mejor inicialización)</text>
  <text x="490" y="495" fill="#cccccc" font-family="Arial, sans-serif" font-size="12">• Elbow method para elegir K</text>
  <text x="490" y="515" fill="#cccccc" font-family="Arial, sans-serif" font-size="12">• Mini-batch K-Means para Big Data</text>
</svg>
