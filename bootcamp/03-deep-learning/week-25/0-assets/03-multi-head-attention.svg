<svg viewBox="0 0 580 300" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <marker id="arrowMH" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto">
      <path d="M0,0 L0,6 L7,3 z" fill="#cdd6f4"/>
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="580" height="300" fill="#1e1e2e"/>
  
  <!-- Title -->
  <text x="290" y="25" text-anchor="middle" fill="#cdd6f4" font-family="Inter, sans-serif" font-size="16" font-weight="bold">Multi-Head Attention</text>
  
  <!-- Input Q K V at bottom -->
  <rect x="40" y="240" width="45" height="30" rx="4" fill="#313244" stroke="#89b4fa" stroke-width="2"/>
  <text x="62" y="260" text-anchor="middle" fill="#89b4fa" font-family="Inter, sans-serif" font-size="13" font-weight="bold">Q</text>
  
  <rect x="100" y="240" width="45" height="30" rx="4" fill="#313244" stroke="#f9e2af" stroke-width="2"/>
  <text x="122" y="260" text-anchor="middle" fill="#f9e2af" font-family="Inter, sans-serif" font-size="13" font-weight="bold">K</text>
  
  <rect x="160" y="240" width="45" height="30" rx="4" fill="#313244" stroke="#a6e3a1" stroke-width="2"/>
  <text x="182" y="260" text-anchor="middle" fill="#a6e3a1" font-family="Inter, sans-serif" font-size="13" font-weight="bold">V</text>
  
  <!-- Arrows up from Q K V -->
  <line x1="62" y1="240" x2="62" y2="195" stroke="#89b4fa" stroke-width="2"/>
  <line x1="122" y1="240" x2="122" y2="195" stroke="#f9e2af" stroke-width="2"/>
  <line x1="182" y1="240" x2="182" y2="195" stroke="#a6e3a1" stroke-width="2"/>
  
  <!-- Linear projections -->
  <rect x="35" y="165" width="55" height="28" rx="4" fill="#45475a" stroke="#89b4fa" stroke-width="1"/>
  <text x="62" y="183" text-anchor="middle" fill="#89b4fa" font-family="Inter, sans-serif" font-size="9">W_Q</text>
  
  <rect x="95" y="165" width="55" height="28" rx="4" fill="#45475a" stroke="#f9e2af" stroke-width="1"/>
  <text x="122" y="183" text-anchor="middle" fill="#f9e2af" font-family="Inter, sans-serif" font-size="9">W_K</text>
  
  <rect x="155" y="165" width="55" height="28" rx="4" fill="#45475a" stroke="#a6e3a1" stroke-width="1"/>
  <text x="182" y="183" text-anchor="middle" fill="#a6e3a1" font-family="Inter, sans-serif" font-size="9">W_V</text>
  
  <!-- Arrows up from Linear -->
  <line x1="62" y1="165" x2="62" y2="140" stroke="#89b4fa" stroke-width="2"/>
  <line x1="122" y1="165" x2="122" y2="140" stroke="#f9e2af" stroke-width="2"/>
  <line x1="182" y1="165" x2="182" y2="140" stroke="#a6e3a1" stroke-width="2"/>
  
  <!-- Horizontal merge line -->
  <line x1="62" y1="140" x2="182" y2="140" stroke="#6c7086" stroke-width="1.5"/>
  <line x1="122" y1="140" x2="122" y2="115" stroke="#6c7086" stroke-width="2"/>
  
  <!-- Attention Heads box -->
  <rect x="240" y="95" width="140" height="90" rx="6" fill="#313244" stroke="#f38ba8" stroke-width="2"/>
  <text x="310" y="125" text-anchor="middle" fill="#f38ba8" font-family="Inter, sans-serif" font-size="11" font-weight="bold">h Attention Heads</text>
  <text x="310" y="145" text-anchor="middle" fill="#cdd6f4" font-family="Inter, sans-serif" font-size="9">head_i = Attention(</text>
  <text x="310" y="158" text-anchor="middle" fill="#cdd6f4" font-family="Inter, sans-serif" font-size="9">QW_i^Q, KW_i^K, VW_i^V)</text>
  <text x="310" y="175" text-anchor="middle" fill="#6c7086" font-family="Inter, sans-serif" font-size="8">Parallel computation</text>
  
  <!-- Arrow to attention heads -->
  <line x1="122" y1="115" x2="122" y2="100" stroke="#6c7086" stroke-width="2"/>
  <line x1="122" y1="100" x2="240" y2="140" stroke="#6c7086" stroke-width="2" marker-end="url(#arrowMH)"/>
  
  <!-- Concat box -->
  <rect x="410" y="115" width="70" height="50" rx="6" fill="#313244" stroke="#cba6f7" stroke-width="2"/>
  <text x="445" y="145" text-anchor="middle" fill="#cba6f7" font-family="Inter, sans-serif" font-size="12" font-weight="bold">Concat</text>
  
  <!-- Arrow from heads to concat -->
  <line x1="380" y1="140" x2="410" y2="140" stroke="#f38ba8" stroke-width="2" marker-end="url(#arrowMH)"/>
  
  <!-- Linear W_O box -->
  <rect x="500" y="115" width="55" height="50" rx="6" fill="#313244" stroke="#94e2d5" stroke-width="2"/>
  <text x="527" y="138" text-anchor="middle" fill="#94e2d5" font-family="Inter, sans-serif" font-size="10">Linear</text>
  <text x="527" y="153" text-anchor="middle" fill="#94e2d5" font-family="Inter, sans-serif" font-size="10">W_O</text>
  
  <!-- Arrow from concat to W_O -->
  <line x1="480" y1="140" x2="500" y2="140" stroke="#cba6f7" stroke-width="2" marker-end="url(#arrowMH)"/>
  
  <!-- Output arrow -->
  <line x1="527" y1="115" x2="527" y2="70" stroke="#94e2d5" stroke-width="2"/>
  <text x="527" y="60" text-anchor="middle" fill="#cdd6f4" font-family="Inter, sans-serif" font-size="10">Output</text>
  
  <!-- Formula at bottom -->
  <rect x="240" y="210" width="320" height="28" rx="4" fill="#313244"/>
  <text x="400" y="228" text-anchor="middle" fill="#cdd6f4" font-family="Inter, sans-serif" font-size="10">MultiHead(Q,K,V) = Concat(head_1,...,head_h) W^O</text>
</svg>