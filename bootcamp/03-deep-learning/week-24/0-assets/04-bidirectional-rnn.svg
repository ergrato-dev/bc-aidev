<svg viewBox="0 0 650 300" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <marker id="arrow4" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <path d="M0,0 L0,6 L9,3 z" fill="#a6e3a1"/>
    </marker>
    <marker id="arrow4b" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <path d="M0,0 L0,6 L9,3 z" fill="#f38ba8"/>
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="650" height="300" fill="#1e1e2e"/>
  
  <!-- Title -->
  <text x="325" y="28" text-anchor="middle" fill="#cdd6f4" font-family="Inter, sans-serif" font-size="18" font-weight="bold">RNN Bidireccional</text>
  
  <!-- Time labels -->
  <text x="130" y="55" text-anchor="middle" fill="#6c7086" font-family="Inter, sans-serif" font-size="11">t=0</text>
  <text x="270" y="55" text-anchor="middle" fill="#6c7086" font-family="Inter, sans-serif" font-size="11">t=1</text>
  <text x="410" y="55" text-anchor="middle" fill="#6c7086" font-family="Inter, sans-serif" font-size="11">t=2</text>
  <text x="550" y="55" text-anchor="middle" fill="#6c7086" font-family="Inter, sans-serif" font-size="11">t=3</text>
  
  <!-- Forward direction label -->
  <text x="50" y="105" text-anchor="middle" fill="#a6e3a1" font-family="Inter, sans-serif" font-size="10" font-weight="bold">Forward</text>
  <text x="50" y="117" text-anchor="middle" fill="#a6e3a1" font-family="Inter, sans-serif" font-size="10">→</text>
  
  <!-- Backward direction label -->
  <text x="50" y="175" text-anchor="middle" fill="#f38ba8" font-family="Inter, sans-serif" font-size="10" font-weight="bold">Backward</text>
  <text x="50" y="187" text-anchor="middle" fill="#f38ba8" font-family="Inter, sans-serif" font-size="10">←</text>
  
  <!-- Forward RNN cells -->
  <rect x="100" y="85" width="60" height="40" rx="6" fill="#313244" stroke="#a6e3a1" stroke-width="2"/>
  <text x="130" y="110" text-anchor="middle" fill="#a6e3a1" font-family="Inter, sans-serif" font-size="12" font-weight="bold">RNN</text>
  
  <rect x="240" y="85" width="60" height="40" rx="6" fill="#313244" stroke="#a6e3a1" stroke-width="2"/>
  <text x="270" y="110" text-anchor="middle" fill="#a6e3a1" font-family="Inter, sans-serif" font-size="12" font-weight="bold">RNN</text>
  
  <rect x="380" y="85" width="60" height="40" rx="6" fill="#313244" stroke="#a6e3a1" stroke-width="2"/>
  <text x="410" y="110" text-anchor="middle" fill="#a6e3a1" font-family="Inter, sans-serif" font-size="12" font-weight="bold">RNN</text>
  
  <rect x="520" y="85" width="60" height="40" rx="6" fill="#313244" stroke="#a6e3a1" stroke-width="2"/>
  <text x="550" y="110" text-anchor="middle" fill="#a6e3a1" font-family="Inter, sans-serif" font-size="12" font-weight="bold">RNN</text>
  
  <!-- Forward arrows -->
  <line x1="160" y1="105" x2="235" y2="105" stroke="#a6e3a1" stroke-width="2" marker-end="url(#arrow4)"/>
  <line x1="300" y1="105" x2="375" y2="105" stroke="#a6e3a1" stroke-width="2" marker-end="url(#arrow4)"/>
  <line x1="440" y1="105" x2="515" y2="105" stroke="#a6e3a1" stroke-width="2" marker-end="url(#arrow4)"/>
  <line x1="580" y1="105" x2="620" y2="105" stroke="#a6e3a1" stroke-width="2" marker-end="url(#arrow4)"/>
  
  <!-- Backward RNN cells -->
  <rect x="100" y="155" width="60" height="40" rx="6" fill="#313244" stroke="#f38ba8" stroke-width="2"/>
  <text x="130" y="180" text-anchor="middle" fill="#f38ba8" font-family="Inter, sans-serif" font-size="12" font-weight="bold">RNN</text>
  
  <rect x="240" y="155" width="60" height="40" rx="6" fill="#313244" stroke="#f38ba8" stroke-width="2"/>
  <text x="270" y="180" text-anchor="middle" fill="#f38ba8" font-family="Inter, sans-serif" font-size="12" font-weight="bold">RNN</text>
  
  <rect x="380" y="155" width="60" height="40" rx="6" fill="#313244" stroke="#f38ba8" stroke-width="2"/>
  <text x="410" y="180" text-anchor="middle" fill="#f38ba8" font-family="Inter, sans-serif" font-size="12" font-weight="bold">RNN</text>
  
  <rect x="520" y="155" width="60" height="40" rx="6" fill="#313244" stroke="#f38ba8" stroke-width="2"/>
  <text x="550" y="180" text-anchor="middle" fill="#f38ba8" font-family="Inter, sans-serif" font-size="12" font-weight="bold">RNN</text>
  
  <!-- Backward arrows -->
  <line x1="240" y1="175" x2="165" y2="175" stroke="#f38ba8" stroke-width="2" marker-end="url(#arrow4b)"/>
  <line x1="380" y1="175" x2="305" y2="175" stroke="#f38ba8" stroke-width="2" marker-end="url(#arrow4b)"/>
  <line x1="520" y1="175" x2="445" y2="175" stroke="#f38ba8" stroke-width="2" marker-end="url(#arrow4b)"/>
  <line x1="100" y1="175" x2="80" y2="175" stroke="#f38ba8" stroke-width="2" marker-end="url(#arrow4b)"/>
  
  <!-- Input arrows -->
  <line x1="130" y1="245" x2="130" y2="200" stroke="#89b4fa" stroke-width="2"/>
  <line x1="270" y1="245" x2="270" y2="200" stroke="#89b4fa" stroke-width="2"/>
  <line x1="410" y1="245" x2="410" y2="200" stroke="#89b4fa" stroke-width="2"/>
  <line x1="550" y1="245" x2="550" y2="200" stroke="#89b4fa" stroke-width="2"/>
  
  <!-- Also to forward -->
  <line x1="130" y1="200" x2="130" y2="125" stroke="#89b4fa" stroke-width="2"/>
  <line x1="270" y1="200" x2="270" y2="125" stroke="#89b4fa" stroke-width="2"/>
  <line x1="410" y1="200" x2="410" y2="125" stroke="#89b4fa" stroke-width="2"/>
  <line x1="550" y1="200" x2="550" y2="125" stroke="#89b4fa" stroke-width="2"/>
  
  <!-- Input labels -->
  <text x="130" y="260" text-anchor="middle" fill="#89b4fa" font-family="Inter, sans-serif" font-size="12" font-weight="bold">x₀</text>
  <text x="270" y="260" text-anchor="middle" fill="#89b4fa" font-family="Inter, sans-serif" font-size="12" font-weight="bold">x₁</text>
  <text x="410" y="260" text-anchor="middle" fill="#89b4fa" font-family="Inter, sans-serif" font-size="12" font-weight="bold">x₂</text>
  <text x="550" y="260" text-anchor="middle" fill="#89b4fa" font-family="Inter, sans-serif" font-size="12" font-weight="bold">x₃</text>
  
  <!-- Concat outputs -->
  <rect x="115" y="65" width="30" height="15" rx="3" fill="#f9e2af" opacity="0.8"/>
  <rect x="255" y="65" width="30" height="15" rx="3" fill="#f9e2af" opacity="0.8"/>
  <rect x="395" y="65" width="30" height="15" rx="3" fill="#f9e2af" opacity="0.8"/>
  <rect x="535" y="65" width="30" height="15" rx="3" fill="#f9e2af" opacity="0.8"/>
  
  <text x="130" y="75" text-anchor="middle" fill="#1e1e2e" font-family="Inter, sans-serif" font-size="8" font-weight="bold">[h→;h←]</text>
  <text x="270" y="75" text-anchor="middle" fill="#1e1e2e" font-family="Inter, sans-serif" font-size="8" font-weight="bold">[h→;h←]</text>
  <text x="410" y="75" text-anchor="middle" fill="#1e1e2e" font-family="Inter, sans-serif" font-size="8" font-weight="bold">[h→;h←]</text>
  <text x="550" y="75" text-anchor="middle" fill="#1e1e2e" font-family="Inter, sans-serif" font-size="8" font-weight="bold">[h→;h←]</text>
  
  <!-- Legend -->
  <rect x="180" y="275" width="290" height="20" rx="4" fill="#313244"/>
  <text x="325" y="289" text-anchor="middle" fill="#6c7086" font-family="Inter, sans-serif" font-size="10">Output: concatenación de forward y backward → 2×hidden_size</text>
</svg>
