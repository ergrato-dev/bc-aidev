<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 500">
  <defs>
    <linearGradient id="ragGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#10B981"/>
      <stop offset="100%" style="stop-color:#059669"/>
    </linearGradient>
  </defs>
  
  <!-- Background -->
  <rect width="800" height="500" fill="#0f172a"/>
  
  <!-- Title -->
  <text x="400" y="35" text-anchor="middle" fill="#f8fafc" font-family="system-ui, sans-serif" font-size="22" font-weight="bold">Arquitectura RAG</text>
  
  <!-- User Query Box -->
  <rect x="30" y="70" width="160" height="60" rx="8" fill="#1e293b" stroke="#3b82f6" stroke-width="2"/>
  <text x="110" y="95" text-anchor="middle" fill="#93c5fd" font-family="system-ui, sans-serif" font-size="11" font-weight="bold">USER QUERY</text>
  <text x="110" y="115" text-anchor="middle" fill="#e2e8f0" font-family="system-ui, sans-serif" font-size="10">"¿Política de</text>
  <text x="110" y="128" text-anchor="middle" fill="#e2e8f0" font-family="system-ui, sans-serif" font-size="10">devoluciones?"</text>
  
  <!-- Arrow to Embedding -->
  <path d="M190 100 L230 100" stroke="#64748b" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Embedding Box -->
  <rect x="240" y="70" width="130" height="60" rx="8" fill="#1e293b" stroke="#8b5cf6" stroke-width="2"/>
  <text x="305" y="95" text-anchor="middle" fill="#c4b5fd" font-family="system-ui, sans-serif" font-size="11" font-weight="bold">EMBEDDING</text>
  <text x="305" y="115" text-anchor="middle" fill="#e2e8f0" font-family="system-ui, sans-serif" font-size="10">Query → Vector</text>
  
  <!-- Arrow to Vector DB -->
  <path d="M370 100 L410 100" stroke="#64748b" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Vector DB -->
  <rect x="420" y="55" width="150" height="90" rx="8" fill="#1e293b" stroke="#10b981" stroke-width="2"/>
  <text x="495" y="80" text-anchor="middle" fill="#6ee7b7" font-family="system-ui, sans-serif" font-size="11" font-weight="bold">VECTOR DATABASE</text>
  <text x="495" y="100" text-anchor="middle" fill="#e2e8f0" font-family="system-ui, sans-serif" font-size="10">Similarity Search</text>
  <text x="495" y="118" text-anchor="middle" fill="#94a3b8" font-family="system-ui, sans-serif" font-size="9">ChromaDB / Pinecone</text>
  <text x="495" y="135" text-anchor="middle" fill="#94a3b8" font-family="system-ui, sans-serif" font-size="9">FAISS / Weaviate</text>
  
  <!-- Arrow down from Vector DB -->
  <path d="M495 145 L495 180" stroke="#64748b" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Retrieved Docs -->
  <rect x="420" y="190" width="150" height="70" rx="8" fill="#1e293b" stroke="#f59e0b" stroke-width="2"/>
  <text x="495" y="215" text-anchor="middle" fill="#fcd34d" font-family="system-ui, sans-serif" font-size="11" font-weight="bold">TOP-K DOCS</text>
  <text x="495" y="235" text-anchor="middle" fill="#e2e8f0" font-family="system-ui, sans-serif" font-size="10">Doc 1: 0.95</text>
  <text x="495" y="250" text-anchor="middle" fill="#e2e8f0" font-family="system-ui, sans-serif" font-size="10">Doc 2: 0.87</text>
  
  <!-- Arrow to Prompt Builder -->
  <path d="M420 225 L320 225 L320 295" stroke="#64748b" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Prompt Augmentation -->
  <rect x="220" y="305" width="200" height="100" rx="8" fill="#1e293b" stroke="#ec4899" stroke-width="2"/>
  <text x="320" y="330" text-anchor="middle" fill="#f9a8d4" font-family="system-ui, sans-serif" font-size="11" font-weight="bold">PROMPT AUGMENTATION</text>
  <text x="320" y="355" text-anchor="middle" fill="#e2e8f0" font-family="system-ui, sans-serif" font-size="9">System: Responde según contexto</text>
  <text x="320" y="372" text-anchor="middle" fill="#e2e8f0" font-family="system-ui, sans-serif" font-size="9">Context: [Doc1] [Doc2]</text>
  <text x="320" y="389" text-anchor="middle" fill="#e2e8f0" font-family="system-ui, sans-serif" font-size="9">Query: ¿Política devoluciones?</text>
  
  <!-- Arrow to LLM -->
  <path d="M420 355 L480 355" stroke="#64748b" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- LLM -->
  <rect x="490" y="305" width="130" height="100" rx="8" fill="url(#ragGrad)"/>
  <text x="555" y="340" text-anchor="middle" fill="#ffffff" font-family="system-ui, sans-serif" font-size="14" font-weight="bold">LLM</text>
  <text x="555" y="365" text-anchor="middle" fill="#d1fae5" font-family="system-ui, sans-serif" font-size="10">GPT / LLaMA</text>
  <text x="555" y="385" text-anchor="middle" fill="#d1fae5" font-family="system-ui, sans-serif" font-size="10">Mistral / Claude</text>
  
  <!-- Arrow to Response -->
  <path d="M620 355 L660 355" stroke="#64748b" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Response -->
  <rect x="670" y="305" width="110" height="100" rx="8" fill="#1e293b" stroke="#3b82f6" stroke-width="2"/>
  <text x="725" y="330" text-anchor="middle" fill="#93c5fd" font-family="system-ui, sans-serif" font-size="11" font-weight="bold">RESPONSE</text>
  <text x="725" y="355" text-anchor="middle" fill="#e2e8f0" font-family="system-ui, sans-serif" font-size="9">"Tienes 30 días</text>
  <text x="725" y="370" text-anchor="middle" fill="#e2e8f0" font-family="system-ui, sans-serif" font-size="9">para devolver</text>
  <text x="725" y="385" text-anchor="middle" fill="#e2e8f0" font-family="system-ui, sans-serif" font-size="9">productos..."</text>
  
  <!-- Offline Pipeline -->
  <rect x="30" y="420" width="350" height="65" rx="8" fill="#1e293b" stroke="#64748b" stroke-width="1" stroke-dasharray="4"/>
  <text x="205" y="445" text-anchor="middle" fill="#94a3b8" font-family="system-ui, sans-serif" font-size="11" font-weight="bold">OFFLINE: Indexación</text>
  <text x="205" y="468" text-anchor="middle" fill="#64748b" font-family="system-ui, sans-serif" font-size="10">Docs → Chunks → Embeddings → Vector DB</text>
  
  <!-- Legend -->
  <rect x="580" y="55" width="190" height="90" rx="8" fill="#1e293b" stroke="#334155" stroke-width="1"/>
  <text x="675" y="78" text-anchor="middle" fill="#94a3b8" font-family="system-ui, sans-serif" font-size="11" font-weight="bold">Ventajas RAG</text>
  <text x="590" y="98" fill="#6ee7b7" font-family="system-ui, sans-serif" font-size="9">✓ Datos actualizados</text>
  <text x="590" y="113" fill="#6ee7b7" font-family="system-ui, sans-serif" font-size="9">✓ Sin alucinaciones</text>
  <text x="590" y="128" fill="#6ee7b7" font-family="system-ui, sans-serif" font-size="9">✓ Datos privados</text>
  
  <!-- Arrowhead marker -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#64748b"/>
    </marker>
  </defs>
</svg>
